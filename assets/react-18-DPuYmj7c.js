import{j as l,r as n}from"./jsx-runtime-D9ZHtoTV.js";import{r as R}from"./index-DdvVxxup.js";import"./_commonjsHelpers-BosuxZz1.js";var u,i=R;u=i.createRoot,i.hydrateRoot;var s=new Map;function c(){return globalThis.IS_REACT_ACT_ENVIRONMENT}var p=({callback:e,children:t})=>{let r=n.useRef();return n.useLayoutEffect(()=>{r.current!==e&&(r.current=e,e())},[e]),t};typeof Promise.withResolvers>"u"&&(Promise.withResolvers=()=>{let e=null,t=null;return{promise:new Promise((r,o)=>{e=r,t=o}),resolve:e,reject:t}});var d=async(e,t,r)=>{let o=await v(t,r);if(c()){o.render(e);return}let{promise:a,resolve:m}=Promise.withResolvers();return o.render(l.jsx(p,{callback:m,children:e})),a},w=(e,t)=>{let r=s.get(e);r&&(r.unmount(),s.delete(e))},v=async(e,t)=>{let r=s.get(e);return r||(r=u(e,t),s.set(e,r)),r};export{d as renderElement,w as unmountElement};
